import"./assets/charitableFunds-7385a04c.js";import{i as p,a as m}from"./assets/vendor-8cce9181.js";const y={titleColor:"#FFFFFF",messageColor:"#FFFFFF",messageSize:"20px",position:"topRight",displayMode:"replace",closeOnEscape:!0,pauseOnHover:!1,maxWidth:432,messageSize:"20px",messageLineHeight:"24px"};function d(t){p.show({message:t,backgroundColor:"#EF4040",progressBarColor:"#FFE0AC",...y})}const b="https://books-backend.p.goit.global",k=1e3*30,l=m.create({baseURL:b,timeout:k});function L(t){return d(t.message),null}l.interceptors.response.use(t=>t,L);function h(){return l.get("/books/category-list").then(t=>t.data)}function E(){return l.get("/books/top-books").then(t=>t.data)}function C(t){return l.get("/books/category",{params:{category:t}}).then(e=>e.data)}const c={ulCategoryContainer:document.querySelector("#listContainer"),gallery:document.querySelector(".js-gallery")};function f({list_name:t}){return`<li class="item-category"> <button type="button" data-category="${t}">${t}</button></li>`}async function T(){try{const e=(await h()).map(f).join("");c.ulCategoryContainer.insertAdjacentHTML("beforeend",e)}catch(t){console.error("Error rendering Category list",t)}}T();function F(t){const a=t.split(" ");let o="",n=0;for(const s of a){const r=s.length;if(n+r+1>20){o+="...";break}o+=s+" ",n+=r+1}return o.trim()}function g(t){const{_id:e,book_image:a,title:o,author:n}=t;return`
<li class="books-item" data-id=${e}>
<div class="book-wrapper">
 <img class="book-image" src="${a}" alt="${n} ${o}"/>
          <p class="book-image-message-text">QUICK VIEW</p>
</div>
        <h2 class="book-title">${F(o)}</h2>
        <p class="book-author">${n}</p>
</li>     
  `}function x({list_name:t,books:e}){const a=document.createElement("li");a.classList.add("category-books-item");const o=document.createElement("h3");o.classList.add("category-title"),o.textContent=t;const n=document.createElement("ul");n.classList.add("category-list"),n.innerHTML=e.map(g).join(""),n.addEventListener("click",i=>console.log("click"));const s=document.createElement("div");s.classList.add("category-div");const r=document.createElement("button");return r.classList.add("category-button"),r.setAttribute("type","button"),r.setAttribute("data-category",t),r.textContent="SEE MORE",r.addEventListener("click",i=>console.log(i.target.dataset)),a.append(o),a.append(n),a.append(s),s.append(r),a}function u(t){const e=t.split(" "),a=`<span>${e.pop()}</span>`;e.push(a);const o=document.createElement("h1");return o.classList.add("title"),o.innerHTML=e.join(" "),o}async function B(){const t=await E();c.gallery.innerHTML="";const e=t.map(x),a=document.createElement("ul");a.classList.add("category-books-list"),a.append(...e),c.gallery.append(u("Best Sellers Books")),c.gallery.append(a)}async function v(t){c.gallery.innerHTML="";try{const e=await C(t),a=u(t);c.gallery.appendChild(a);const o=document.createElement("ul");o.classList.add("selected-category-list"),c.gallery.appendChild(o);const n=e.map(s=>g(s)).join("");o.innerHTML=n,o.addEventListener("click",()=>console.log("Hello World"))}catch{d("Error rendering category. Please try again later.")}}function M(t){if(t.target.nodeName!=="BUTTON")return;const e=t.target.getAttribute("data-category");e==="All categories"?B():v(e)}const{ulCategoryContainer:S}=c;S.addEventListener("click",M);
//# sourceMappingURL=commonHelpers.js.map
