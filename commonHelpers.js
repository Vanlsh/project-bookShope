import{g,a as u,b as p,t as y}from"./assets/books-eed7060a.js";import"./assets/vendor-8cce9181.js";const c={ulCategoryContainer:document.querySelector("#listContainer"),gallery:document.querySelector(".js-gallery")};function m({list_name:t}){return`<li class="item-category"> <button type="button" data-category="${t}">${t}</button></li>`}async function L(){try{const a=(await g()).map(m).join("");c.ulCategoryContainer.insertAdjacentHTML("beforeend",a)}catch(t){console.error("Error rendering Category list",t)}}L();function b(t){const o=t.split(" ");let e="",r=0;for(const s of o){const n=s.length;if(r+n+1>20){e+="...";break}e+=s+" ",r+=n+1}return e.trim()}function i(t){const{_id:a,book_image:o,title:e,author:r}=t;return`
<li class="books-item" data-id=${a}>
<div class="book-wrapper">
 <img class="book-image" src="${o}" alt="${r} ${e}"/>
          <p class="book-image-message-text">QUICK VIEW</p>
</div>
        <h2 class="book-title">${b(e)}</h2>
        <p class="book-author">${r}</p>
</li>     
  `}function k({list_name:t,books:a}){const o=document.createElement("li");o.classList.add("category-books-item");const e=document.createElement("h3");e.classList.add("category-title"),e.textContent=t;const r=document.createElement("ul");r.classList.add("category-list"),r.innerHTML=a.map(i).join(""),r.addEventListener("click",l=>console.log("click"));const s=document.createElement("div");s.classList.add("category-div");const n=document.createElement("button");return n.classList.add("category-button"),n.setAttribute("type","button"),n.setAttribute("data-category",t),n.textContent="SEE MORE",n.addEventListener("click",l=>console.log(l.target.dataset)),o.append(e),o.append(r),o.append(s),s.append(n),o}function d(t){const a=t.split(" "),o=`<span>${a.pop()}</span>`;a.push(o);const e=document.createElement("h1");return e.classList.add("title"),e.innerHTML=a.join(" "),e}async function C(){const t=await u();c.gallery.innerHTML="";const a=t.map(k),o=document.createElement("ul");o.classList.add("category-books-list"),o.append(...a),c.gallery.append(d("Best Sellers Books")),c.gallery.append(o)}async function E(t){c.gallery.innerHTML="";try{const a=await p(t),o=d(t);c.gallery.appendChild(o);const e=document.createElement("ul");e.classList.add("selected-category-list"),c.gallery.appendChild(e);const r=a.map(s=>i(s)).join("");e.innerHTML=r,e.addEventListener("click",()=>console.log("Hello World"))}catch{y("Error rendering category. Please try again later.")}}function f(t){if(t.target.nodeName!=="BUTTON")return;const a=t.target.getAttribute("data-category");a==="All categories"?C():E(a)}const{ulCategoryContainer:h}=c;h.addEventListener("click",f);
//# sourceMappingURL=commonHelpers.js.map
