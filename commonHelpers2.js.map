{"version":3,"file":"commonHelpers2.js","sources":["../src/js/components/toast.js","../src/js/api/instance.js","../src/js/api/books.js","../src/js/markups/markupBuyLinks.js","../src/js/markups/markupBasketShList.js","../src/js/renderBasketShList.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst toastOptions = {\n  titleColor: '#FFFFFF',\n  messageColor: '#FFFFFF',\n  messageSize: '20px',\n  position: 'topRight',\n  displayMode: 'replace',\n  closeOnEscape: true,\n  pauseOnHover: false,\n  maxWidth: 432,\n  messageSize: '20px',\n  messageLineHeight: '24px',\n};\n\nexport function toastError(message) {\n  iziToast.show({\n    message,\n    backgroundColor: '#EF4040',\n    progressBarColor: '#FFE0AC',\n    ...toastOptions,\n  });\n}\n\nexport function toastSuccess(message) {\n  iziToast.show({\n    message,\n    backgroundColor: '#3db919',\n    progressBarColor: '#FFE0AC',\n    ...toastOptions,\n  });\n}\n","import axios from \"axios\";\nimport { toastError } from \"../components/toast\";\n\n\nconst BASE_URL = 'https://books-backend.p.goit.global';\n\nconst TIMEOUT = 1000 * 30;\n\nexport const instance = axios.create({\n    baseURL: BASE_URL,\n    timeout: TIMEOUT,\n  });\n\n \n  // Додаткова обробка помилки\n  function handleAxiosError(error) {\n    toastError(error.message);\n    return null;\n  };\n\n\n  // Встановлення обробника помилок для всіх запитів через інстанс Axios\n  instance.interceptors.response.use(response => {\n    // Обробка успішної відповіді\n    return response;\n  }, handleAxiosError);\n  //виклик додаткової обробки","import { instance } from './instance';\n\n// функція яка повертає усі категорії\nexport function getCategoryList() {\n  return instance.get('/books/category-list').then(res => res.data);\n}\n\n// функція яка повертає бестселлери\nexport function getTopBooks() {\n  return instance.get('/books/top-books').then(res => res.data);\n}\n\n// функція яка повертає обрану категорію\nexport function getSelectedCategory(category) {\n  return instance\n    .get('/books/category', {\n      params: {\n        category,\n      },\n    })\n    .then(res => res.data);\n}\n\n// функція яка повертає книгу за ID\nexport function getById(bookId) {\n  return instance.get(`/books/${bookId}`).then(res => res.data);\n}\n","// Маркап для посилань на amazon та apple books\n\nexport function markupBuyLinks(buy_links) {\n  const amazon = buy_links.find(item => item.name === 'Amazon').url;\n  const appleBooks = buy_links.find(item => item.name === 'Apple Books').url;\n  return `\n    <ul class=\"links-shop-list\">\n       <li class=\"link-shop-item\">\n         <a class=\"amazon-link\" href=\"${amazon}\" target=\"_blank\" rel=\"noopener\">\n           <img class=\"img-amazon\" src=\"/img/amazon.png\" alt=\"amazon\"></img>\n         </a>\n       </li>\n       <li class=\"link-shop-item\">\n         <a\n           class=\"apple-book-link\"\n           href=\"${appleBooks}\"\n           target=\"_blank\"\n           rel=\"noopener\"\n         >\n           <img\n             class=\"img-apple-books\"\n             src=\"/img/apple-books.png\"\n             alt=\"apple-books\"\n           ></img>\n         </a>\n       </li>\n     </ul>`;\n}\n","import { markupBuyLinks } from '../markups/markupBuyLinks';\n\nexport function markupBasketItem({\n  id,\n  book_image,\n  title,\n  list_name,\n  description,\n  author,\n  buy_links,\n}) {\n  return `\n    <li class=\"basket-item\">\n      <img class=\"basket-item-img\" src=\"${book_image}\" alt=\"${title}\"/>\n      <div class=\"basket-item-info\">\n<div class=\"first-item-part\">\n    <div class=\"title-category-container\">\n    <h2 class=\"title-basket-item\">${title}</h2>\n    <p class=\"category-basket-item\">${list_name}</p>\n    </div>\n    <button class=\"delete-basket-item-btn\" data-id=\"${id}\">\n      <svg class=\"trash-btn-icon\" height=\"16\" width=\"16\">\n                <use href=\"../img/icons.svg#icon-trash\"></use>\n              </svg></button>\n</div>\n    <p class=\"descr-basket-item\">${description}</p>\n    <div class=\"last-item-part\">\n    <p class=\"author-basket-item\">${author}</p>\n${markupBuyLinks(buy_links)}\n     </div>\n     </div>\n    </li>`;\n}\n","import { getSelectedCategory } from './api/books';\nimport { markupBasketItem } from './markups/markupBasketShList';\n\nconst basketShoppingList = document.querySelector('.basket-list');\nconst start = document.querySelector('.test');\nstart.addEventListener('click', renderBasketItem);\n\nasync function renderBasketItem() {\n  const data = await getSelectedCategory('Paperback Nonfiction');\n  console.log(data);\n  const books = data.map(markupBasketItem).join('');\n  basketShoppingList.innerHTML = books;\n}\n"],"names":["toastOptions","toastError","message","iziToast","BASE_URL","TIMEOUT","instance","axios","handleAxiosError","error","response","getSelectedCategory","category","res","markupBuyLinks","buy_links","amazon","item","appleBooks","markupBasketItem","id","book_image","title","list_name","description","author","basketShoppingList","start","renderBasketItem","data","books"],"mappings":"oGAGA,MAAMA,EAAe,CACnB,WAAY,UACZ,aAAc,UACd,YAAa,OACb,SAAU,WACV,YAAa,UACb,cAAe,GACf,aAAc,GACd,SAAU,IACV,YAAa,OACb,kBAAmB,MACrB,EAEO,SAASC,EAAWC,EAAS,CAClCC,EAAS,KAAK,CACZ,QAAAD,EACA,gBAAiB,UACjB,iBAAkB,UAClB,GAAGF,CACP,CAAG,CACH,CCnBA,MAAMI,EAAW,sCAEXC,EAAU,IAAO,GAEVC,EAAWC,EAAM,OAAO,CACjC,QAASH,EACT,QAASC,CACb,CAAG,EAID,SAASG,EAAiBC,EAAO,CAC/B,OAAAR,EAAWQ,EAAM,OAAO,EACjB,IAEX,CAGEH,EAAS,aAAa,SAAS,IAAII,GAE1BA,EACNF,CAAgB,ECZd,SAASG,EAAoBC,EAAU,CAC5C,OAAON,EACJ,IAAI,kBAAmB,CACtB,OAAQ,CACN,SAAAM,CACD,CACP,CAAK,EACA,KAAKC,GAAOA,EAAI,IAAI,CACzB,CCnBO,SAASC,EAAeC,EAAW,CACxC,MAAMC,EAASD,EAAU,KAAKE,GAAQA,EAAK,OAAS,QAAQ,EAAE,IACxDC,EAAaH,EAAU,KAAKE,GAAQA,EAAK,OAAS,aAAa,EAAE,IACvE,MAAO;AAAA;AAAA;AAAA,wCAG+BD,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAO3BE,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAY7B,CCzBO,SAASC,EAAiB,CAC/B,GAAAC,EACA,WAAAC,EACA,MAAAC,EACA,UAAAC,EACA,YAAAC,EACA,OAAAC,EACA,UAAAV,CACF,EAAG,CACD,MAAO;AAAA;AAAA,0CAEiCM,CAAU,UAAUC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAI/BA,CAAK;AAAA,sCACHC,CAAS;AAAA;AAAA,sDAEOH,CAAE;AAAA;AAAA;AAAA;AAAA;AAAA,mCAKrBI,CAAW;AAAA;AAAA,oCAEVC,CAAM;AAAA,EACxCX,EAAeC,CAAS,CAAC;AAAA;AAAA;AAAA,UAI3B,CC7BA,MAAMW,EAAqB,SAAS,cAAc,cAAc,EAC1DC,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,iBAAiB,QAASC,CAAgB,EAEhD,eAAeA,GAAmB,CAChC,MAAMC,EAAO,MAAMlB,EAAoB,sBAAsB,EAC7D,QAAQ,IAAIkB,CAAI,EAChB,MAAMC,EAAQD,EAAK,IAAIV,CAAgB,EAAE,KAAK,EAAE,EAChDO,EAAmB,UAAYI,CACjC"}