{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/markups/markupNavCategories.js","../src/js/renders/renderNavCategoriesList.js","../src/js/helpers/truncateTextByWord.js","../src/js/markups/markupOneBook.js","../src/js/markups/markupBestBooks.js","../src/js/markups/markupTitle.js","../src/js/renders/renderBestSellers.js","../src/js/renders/renderCategoryBooks.js","../src/js/handlerGalleryNav.js","../src/main.js"],"sourcesContent":["export const refs = {\n  ulCategoryContainer: document.querySelector('#listContainer'),\n  gallery: document.querySelector('.js-gallery'),\n};\n","//Function for generation markup of all Categories in the list\nexport function markupNavCatList({ list_name }) {\n  return `<li class=\"item-category\"> <button type=\"button\" data-category=\"${list_name}\">${list_name}</button></li>`;\n}\n","import { getCategoryList } from '../api/books.js';\nimport { refs } from '../refs.js';\nimport { markupNavCatList } from '../markups/markupNavCategories.js';\n\n//Function for added markup to the ul in th shop.html file\nexport async function renderNavCategoryList() {\n  try {\n    const categoryName = await getCategoryList();\n    const categoryContainer = categoryName.map(markupNavCatList).join('');\n    refs.ulCategoryContainer.insertAdjacentHTML('beforeend', categoryContainer);\n  } catch (error) {\n    console.error('Error rendering Category list', error);\n  }\n}\nrenderNavCategoryList();\n","export function truncateTextByWord(text) {\n    const maxLength = 20;\n    const words = text.split(' '); \n    let truncatedText = '';\n    let currentLength = 0;\n  \n    for (const word of words) {\n      const wordLength = word.length;\n      if (currentLength + wordLength + 1 > maxLength) {\n        truncatedText += '...'; \n        break; \n      }\n      truncatedText += word + ' '; \n      currentLength += wordLength + 1; \n    }\n  \n    return truncatedText.trim();\n  }\n  ","import { truncateTextByWord } from \"../helpers/truncateTextByWord\";\n\n\nexport function markupBookCard(book) {\n  const { _id: id, book_image: image, title, author } = book;\n  return `\n<li class=\"books-item\" data-id=${id}>\n<div class=\"book-wrapper\">\n <img class=\"book-image\" src=\"${image}\" alt=\"${author} ${title}\"/>\n          <p class=\"book-image-message-text\">QUICK VIEW</p>\n</div>\n        <h2 class=\"book-title\">${truncateTextByWord(title)}</h2>\n        <p class=\"book-author\">${author}</p>\n</li>     \n  `;\n}\n","import { markupBookCard } from './markupOneBook';\n\nexport function markupBestSellersBooks({ list_name, books }) {\n  const categoryItem = document.createElement('li');\n  categoryItem.classList.add('category-books-item');\n\n  const categoryTitle = document.createElement('h3');\n  categoryTitle.classList.add('category-title');\n  categoryTitle.textContent = list_name;\n\n  const categoryList = document.createElement('ul');\n  categoryList.classList.add('category-list');\n  categoryList.innerHTML = books.map(markupBookCard).join('');\n  categoryList.addEventListener('click', e => console.log('click'));\n\n  const categoryDiv = document.createElement('div');\n  categoryDiv.classList.add('category-div');\n\n  const categoryButton = document.createElement('button');\n  categoryButton.classList.add('category-button');\n  categoryButton.setAttribute('type', 'button');\n  categoryButton.setAttribute('data-category', list_name);\n  categoryButton.textContent = 'SEE MORE';\n  categoryButton.addEventListener('click', e => console.log(e.target.dataset));\n\n  categoryItem.append(categoryTitle);\n  categoryItem.append(categoryList);\n  categoryItem.append(categoryDiv);\n  categoryDiv.append(categoryButton);\n\n  return categoryItem;\n}\n","export function markupTitle(text) {\n  const splitTitle = text.split(' ');\n  const template = `<span>${splitTitle.pop()}</span>`;\n  splitTitle.push(template);\n  const title = document.createElement('h1');\n  title.classList.add('title');\n  title.innerHTML = splitTitle.join(' ');\n  return title;\n}\n","import { getTopBooks } from '../api/books';\nimport { markupBestSellersBooks } from '../markups/markupBestBooks';\nimport { refs } from '../refs';\nimport { markupTitle } from '../markups/markupTitle';\n\nexport async function renderBestSellerBooks() {\n  const bestsellers = await getTopBooks();\n  refs.gallery.innerHTML = '';\n\n  const bestsellersArr = bestsellers.map(markupBestSellersBooks);\n  const bestsellersList = document.createElement('ul');\n  bestsellersList.classList.add('category-books-list');\n\n  bestsellersList.append(...bestsellersArr);\n\n  refs.gallery.append(markupTitle('Best Sellers Books'));\n  refs.gallery.append(bestsellersList);\n}\n","import { getSelectedCategory } from '../api/books';\nimport { toastError } from '../components/toast';\nimport { markupBookCard } from '../markups/markupOneBook';\nimport { refs } from '../refs';\nimport { markupTitle } from '../markups/markupTitle';\n\nexport async function renderCategory(category) {\n  refs.gallery.innerHTML = '';\n  try {\n    const data = await getSelectedCategory(category);\n\n    const titleElement = markupTitle(category);\n    refs.gallery.appendChild(titleElement);\n\n    // Створюємо елемент <ul> та додаємо його до галереї\n    const ul = document.createElement('ul');\n    ul.classList.add('selected-category-list');\n    refs.gallery.appendChild(ul);\n\n    // Створюємо розмітку кожної книги з використанням map\n    const booksMarkup = data.map(book => markupBookCard(book)).join('');\n\n    // Додаємо розмітку до елементу <ul>\n    ul.innerHTML = booksMarkup;\n\n    ul.addEventListener('click',() => console.log('Hello World'));\n  } catch (error) {\n    // Обробка помилок, якщо вони виникають під час виконання блоку try\n    toastError('Error rendering category. Please try again later.');\n  }\n}\n","import { renderBestSellerBooks } from './renders/renderBestSellers';\nimport { renderCategory } from './renders/renderCategoryBooks';\n\nexport function handlerGalleryNav(evt) {\n  if (evt.target.nodeName !== 'BUTTON') return;\n\n  const attributeValue = evt.target.getAttribute('data-category');\n\n  if (attributeValue === 'All categories') {\n    renderBestSellerBooks();\n  } else {\n    renderCategory(attributeValue);\n  }\n}\n","import './js/renders/renderNavCategoriesList';\nimport { handlerGalleryNav } from './js/handlerGalleryNav';\nimport { refs } from './js/refs';\n\nconst { ulCategoryContainer } = refs;\n\nulCategoryContainer.addEventListener('click', handlerGalleryNav);\n"],"names":["refs","markupNavCatList","list_name","renderNavCategoryList","categoryContainer","getCategoryList","error","truncateTextByWord","text","words","truncatedText","currentLength","word","wordLength","markupBookCard","book","id","image","title","author","markupBestSellersBooks","books","categoryItem","categoryTitle","categoryList","e","categoryDiv","categoryButton","markupTitle","splitTitle","template","renderBestSellerBooks","bestsellers","getTopBooks","bestsellersArr","bestsellersList","renderCategory","category","data","getSelectedCategory","titleElement","ul","booksMarkup","toastError","handlerGalleryNav","evt","attributeValue","ulCategoryContainer"],"mappings":"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"}