{"version":3,"file":"commonHelpers.js","sources":["../src/js/scrollButton.js","../src/js/components/toast.js","../src/js/api/instance.js","../src/js/api/books.js","../src/js/refs.js","../src/js/markups/markupNavCategories.js","../src/js/helpers/scrollElemInCategoryList.js","../src/js/renders/renderNavCategoriesList.js","../src/js/helpers/truncateTextByWord.js","../src/js/markups/markupOneBook.js","../src/js/markups/markupTitle.js","../src/js/helpers/isBookInCart.js","../src/js/commonConst.js","../src/js/showModal.js","../src/js/events/onCardClick.js","../src/js/renders/renderLoader.js","../src/js/renders/renderCategoryBooks.js","../src/js/helpers/removeBntNavStyles.js","../src/js/helpers/scrollGallery.js","../src/js/events/onSeeMore.js","../src/js/markups/markupBestBooks.js","../src/js/renders/renderBestSellers.js","../src/js/handlerGalleryNav.js","../src/js/removeBookFromCart.js","../src/js/addBookToCart.js","../src/js/events/onModalButton.js","../src/js/events/onCloseModal.js","../src/js/events/onLoadAllBestSellers.js","../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\n  const scrollUpButton = document.getElementById('scrollUpButton');\n\n  window.addEventListener('scroll', function() {\n    if (window.scrollY > 100) {\n      scrollUpButton.style.display = 'block';\n    } else {\n      scrollUpButton.style.display = 'none';\n    }\n  });\n\n  scrollUpButton.addEventListener('click', function() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth' \n    });\n  });\n});","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst toastOptions = {\n  titleColor: '#FFFFFF',\n  messageColor: '#FFFFFF',\n  messageSize: '20px',\n  position: 'topRight',\n  displayMode: 'replace',\n  closeOnEscape: true,\n  pauseOnHover: false,\n  maxWidth: 432,\n  messageSize: '20px',\n  messageLineHeight: '24px',\n};\n\nexport function toastError(message) {\n  iziToast.show({\n    message,\n    backgroundColor: '#EF4040',\n    progressBarColor: '#FFE0AC',\n    ...toastOptions,\n  });\n}\n\nexport function toastSuccess(message) {\n  iziToast.show({\n    message,\n    backgroundColor: '#3db919',\n    progressBarColor: '#FFE0AC',\n    ...toastOptions,\n  });\n}\n","import axios from \"axios\";\nimport { toastError } from \"../components/toast\";\n\n\nconst BASE_URL = 'https://books-backend.p.goit.global';\n\nconst TIMEOUT = 1000 * 30;\n\nexport const instance = axios.create({\n    baseURL: BASE_URL,\n    timeout: TIMEOUT,\n  });\n\n \n  // Додаткова обробка помилки\n  function handleAxiosError(error) {\n    toastError(error.message);\n    return null;\n  };\n\n\n  // Встановлення обробника помилок для всіх запитів через інстанс Axios\n  instance.interceptors.response.use(response => {\n    // Обробка успішної відповіді\n    return response;\n  }, handleAxiosError);\n  //виклик додаткової обробки","import { instance } from './instance';\n\n// функція яка повертає усі категорії\nexport function getCategoryList() {\n  return instance.get('/books/category-list').then(res => res.data);\n}\n\n// функція яка повертає бестселлери\nexport function getTopBooks() {\n  return instance.get('/books/top-books').then(res => res.data);\n}\n\n// функція яка повертає обрану категорію\nexport function getSelectedCategory(category) {\n  return instance\n    .get('/books/category', {\n      params: {\n        category,\n      },\n    })\n    .then(res => res.data);\n}\n\n// функція яка повертає книгу за ID\nexport function getById(bookId) {\n  return instance.get(`/books/${bookId}`).then(res => res.data);\n}\n","export const refs = {\n  ulCategoryContainer: document.querySelector('#listContainer'),\n  gallery: document.querySelector('.js-gallery'),\n  loader: document.querySelector('.load-div'),\n  btnAllCategories: document.querySelector(\n    'button[data-category=\"All categories\"]'\n  ),\n  modalWrapper: document.querySelector('.js-modal-wrapper'),\n  modalImg: document.querySelector('.js-modal-img'),\n  modalTitle: document.querySelector('.js-modal-title'),\n  modalDescription: document.querySelector('.js-modal-description'),\n  modalText: document.querySelector('.js-modal-text'),\n  modalLinks: document.querySelector('.js-modal-links-icon'),\n  modalBtn: document.querySelector('.js-modal-btn'),\n  modalCongratulation: document.querySelector('.js-modal-congratulation'),\n  modalClose: document.querySelector('.js-icon-close'),\n};\n","import { getFromLocalStorage } from '../localStorageAPI';\nimport { refsLS } from '../keyConstsLS';\nconst { categoryName } = refsLS;\n\nexport function markupNavCatList({ list_name }) {\n  const getCategoryName = getFromLocalStorage(categoryName);\n  //Ignore  / adds active class to Category list and rending gallery\n  const isActive = getCategoryName === list_name ? 'active' : '';\n  return `<li class=\"item-category\"> <button class=\"${isActive}\" type=\"button\" data-category=\"${list_name}\">${list_name}</button></li>`;\n}\n","import { refs } from '../refs';\nconst { ulCategoryContainer } = refs;\nimport { refsLS } from '../keyConstsLS';\nconst { categoryName } = refsLS;\nimport { getFromLocalStorage } from '../localStorageAPI';\n\n//scrolling Elem in Categories list container after reload  page\nexport function scrollHighlightElem() {\n  const getCategoryName = getFromLocalStorage(categoryName);\n  const highlightedElement = document.querySelector(\n    `button[data-category=\"${getCategoryName}\"]`\n  );\n  if (highlightedElement && ulCategoryContainer) {\n    ulCategoryContainer.scrollTop =\n      highlightedElement.offsetTop -\n      ulCategoryContainer.offsetTop -\n      ulCategoryContainer.clientHeight / 2 +\n      highlightedElement.clientHeight / 2;\n  }\n}\n","import { getCategoryList } from '../api/books.js';\nimport { refs } from '../refs.js';\nimport { markupNavCatList } from '../markups/markupNavCategories.js';\nimport { scrollHighlightElem } from '../helpers/scrollElemInCategoryList.js';\n\n//Function for added markup to the ul in th shop.html file\nexport async function renderNavCategoryList() {\n  try {\n    const categoryName = await getCategoryList();\n    const categoryContainer = categoryName.map(markupNavCatList).join('');\n    refs.ulCategoryContainer.insertAdjacentHTML('beforeend', categoryContainer);\n    //scrolling Elem in Categories list container after reload  page\n    scrollHighlightElem();\n    //\n  } catch (error) {\n    console.error('Error rendering Category list', error);\n  }\n}\nrenderNavCategoryList();\n","export function truncateTextByWord(text) {\n    const maxLength = 20;\n    const words = text.split(' '); \n    let truncatedText = '';\n    let currentLength = 0;\n  \n    for (const word of words) {\n      const wordLength = word.length;\n      if (currentLength + wordLength + 1 > maxLength) {\n        truncatedText += '...'; \n        break; \n      }\n      truncatedText += word + ' '; \n      currentLength += wordLength + 1; \n    }\n  \n    return truncatedText.trim();\n  }\n  ","import { truncateTextByWord } from '../helpers/truncateTextByWord';\n\nexport function markupBookCard(book) {\n  const { _id: id, book_image: image, title, author } = book;\n  return `\n<li class=\"books-item\" data-id=${id}>\n<div class=\"book-wrapper\">\n <img class=\"book-image\" src=\"${image}\" alt=\"${author} ${title}\" />\n          <p class=\"book-image-message-text\">QUICK VIEW</p>\n</div>\n        <h2 class=\"book-title\">${truncateTextByWord(title)}</h2>\n        <p class=\"book-author\">${author}</p>\n</li>     \n  `;\n}\n","export function markupTitle(text) {\n  const splitTitle = text.split(' ');\n  const template = `<span>${splitTitle.pop()}</span>`;\n  splitTitle.push(template);\n  const title = document.createElement('h1');\n  title.classList.add('title');\n  title.innerHTML = splitTitle.join(' ');\n  return title;\n}\n","import { getFromLocalStorage } from '../localStorageAPI';\nimport { refsLS } from '../keyConstsLS';\n\nexport function isBookInCart(id) {\n  const books = getFromLocalStorage(refsLS.booksInCart);\n  if (!books || !books.length) return false;\n  return books.some(books => books._id === id);\n}\n","export const ADD = 'add';\nexport const REMOVE = 'remove';\nexport const IS_OPEN = 'is-open';\nexport const HIDDEN = 'hidden';\nexport const TEXT_MODAL_BUTTON_ADD = 'add to shopping list';\nexport const TEXT_MODAL_BUTTON_REMOVE = 'remove from the shopping list';\n","import { refs } from './refs';\nimport { getById } from './api/books';\nimport { refsLS } from './keyConstsLS';\nimport { setToLocalStorage } from './localStorageAPI';\nimport { isBookInCart } from './helpers/isBookInCart';\nimport { markupBuyLinks } from './markups/markupBuyLinks';\nimport {\n  ADD,\n  REMOVE,\n  TEXT_MODAL_BUTTON_ADD,\n  TEXT_MODAL_BUTTON_REMOVE,\n  IS_OPEN,\n  HIDDEN,\n} from './commonConst';\n\nconst {\n  modalWrapper,\n  modalImg,\n  modalTitle,\n  modalDescription,\n  modalText,\n  modalLinks,\n  modalBtn,\n  modalCongratulation,\n} = refs;\n\nexport async function showModal(id) {\n  document.body.style.overflow = 'hidden';\n  const data = await getById(id);\n  if (!data) {\n    document.body.style.overflow = '';\n    return;\n  }\n  setToLocalStorage(refsLS.categoryOpenInModal, data);\n\n  const { _id, book_image, description, author, title, buy_links } = data;\n  const isInCart = isBookInCart(_id);\n\n  modalLinks.innerHTML = markupBuyLinks(buy_links);\n  modalTitle.textContent = title;\n  modalDescription.textContent = author;\n  modalText.textContent = description;\n  modalImg.src = book_image;\n  modalBtn.textContent = isInCart\n    ? TEXT_MODAL_BUTTON_REMOVE\n    : TEXT_MODAL_BUTTON_ADD;\n\n  modalBtn.dataset.id = _id;\n  modalBtn.setAttribute('data-type', isInCart ? REMOVE : ADD);\n  modalWrapper.classList.add(IS_OPEN);\n\n  if (isInCart) modalCongratulation.classList.remove(HIDDEN);\n}\n","import { showModal } from '../showModal';\nexport function onCardClick(event) {\n  if (event.target === event.currentTarget) return;\n  const id =\n    event.target.dataset.id || event.target.closest('li[data-id]').dataset.id;\n  showModal(id);\n}\n","export function renderLoader(element) {\n  element.innerHTML =\n    '<div class=\"load-div\"><span class=\"loader\"></span></div>';\n}\n","import { getSelectedCategory } from '../api/books';\nimport { toastError } from '../components/toast';\nimport { markupBookCard } from '../markups/markupOneBook';\nimport { refs } from '../refs';\nimport { markupTitle } from '../markups/markupTitle';\nimport { onCardClick } from '../events/onCardClick';\nimport { renderLoader } from './renderLoader';\n\n\nexport async function renderCategory(category) {\n  try {\n    renderLoader(refs.gallery);\n    const data = await getSelectedCategory(category);\n    refs.gallery.innerHTML = '';\n    const titleElement = markupTitle(category);\n    refs.gallery.appendChild(titleElement);\n\n    // Створюємо елемент <ul> та додаємо його до галереї\n    const ul = document.createElement('ul');\n    ul.classList.add('selected-category-list');\n    refs.gallery.appendChild(ul);\n\n    // Створюємо розмітку кожної книги з використанням map\n    const booksMarkup = data.map(book => markupBookCard(book)).join('');\n\n    // Додаємо розмітку до елементу <ul>\n    ul.innerHTML = booksMarkup;\n\n    ul.addEventListener('click', onCardClick);\n  } catch (error) {\n    // Обробка помилок, якщо вони виникають під час виконання блоку try\n    toastError('Error rendering category. Please try again later.');\n  }\n}\n","export function removeBntNavStyles() {\n  const buttons = document.querySelectorAll('button[data-category]');\n  buttons.forEach(btn => btn.classList.remove('active'));\n}\n","import { refs } from '../refs';\n\nexport function scrollGallery() {\n  if (window.innerWidth >= 1422) {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  } else {\n    refs.gallery.style.minHeight = window.innerHeight + 'px';\n    refs.gallery.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start',\n    });\n  }\n}\n","import { renderCategory } from '../renders/renderCategoryBooks';\nimport { removeBntNavStyles } from '../helpers/removeBntNavStyles';\nimport { refsLS } from '../keyConstsLS';\nimport { setToLocalStorage } from '../localStorageAPI';\nimport { scrollHighlightElem } from '../helpers/scrollElemInCategoryList';\nimport { scrollGallery } from '../helpers/scrollGallery';\n\nexport function onSeeMore(event) {\n  scrollGallery();\n  const categoryName = event.target.dataset.category;\n  const btnCategoryTitle = document.querySelector(\n    `.item-category button[data-category=\"${categoryName}\"]`\n  );\n  removeBntNavStyles();\n  btnCategoryTitle.classList.add('active');\n  setToLocalStorage(refsLS.categoryName, categoryName);\n  renderCategory(categoryName);\n  scrollHighlightElem();\n}\n","import { markupBookCard } from './markupOneBook';\nimport { onSeeMore } from '../events/onSeeMore';\nimport { onCardClick } from '../events/onCardClick';\n\nexport function markupBestSellersBooks({ list_name, books }) {\n  const categoryItem = document.createElement('li');\n  categoryItem.classList.add('category-books-item');\n\n  const categoryTitle = document.createElement('h3');\n  categoryTitle.classList.add('category-title');\n  categoryTitle.textContent = list_name;\n\n  const categoryList = document.createElement('ul');\n  categoryList.classList.add('category-list');\n  categoryList.innerHTML = books.map(markupBookCard).join('');\n  categoryList.addEventListener('click', onCardClick);\n\n  const categoryDiv = document.createElement('div');\n  categoryDiv.classList.add('category-div');\n\n  const categoryButton = document.createElement('button');\n  categoryButton.classList.add('category-button');\n  categoryButton.setAttribute('type', 'button');\n  categoryButton.setAttribute('data-category', list_name);\n  categoryButton.textContent = 'SEE MORE';\n  categoryButton.addEventListener('click', onSeeMore);\n\n  categoryItem.append(categoryTitle);\n  categoryItem.append(categoryList);\n  categoryItem.append(categoryDiv);\n  categoryDiv.append(categoryButton);\n\n  return categoryItem;\n}\n","import { getTopBooks } from '../api/books';\nimport { markupBestSellersBooks } from '../markups/markupBestBooks';\nimport { refs } from '../refs';\nimport { markupTitle } from '../markups/markupTitle';\nimport { renderLoader } from './renderLoader';\n\n\nexport async function renderBestSellerBooks() {\n  renderLoader(refs.gallery);\n  const bestsellers = await getTopBooks();\n  if (bestsellers && bestsellers.length > 0) {\n    refs.gallery.innerHTML = '';\n    const bestsellersArr = bestsellers.map(markupBestSellersBooks);\n    const bestsellersList = document.createElement('ul');\n    bestsellersList.classList.add('category-books-list');\n\n    bestsellersList.append(...bestsellersArr);\n\n    refs.gallery.append(markupTitle('Best Sellers Books'));\n    refs.gallery.append(bestsellersList);\n  } else {\n    console.error('No results');\n  }\n}\n","import { renderBestSellerBooks } from './renders/renderBestSellers';\nimport { renderCategory } from './renders/renderCategoryBooks';\nimport { removeBntNavStyles } from './helpers/removeBntNavStyles';\nimport { setToLocalStorage } from './localStorageAPI';\nimport { refsLS } from './keyConstsLS';\nimport { scrollGallery } from './helpers/scrollGallery';\nconst { categoryName } = refsLS;\n\nexport function handlerGalleryNav(evt) {\n  if (evt.target.nodeName !== 'BUTTON') return;\n  removeBntNavStyles();\n  evt.target.classList.add('active');\n  scrollGallery();\n  const attributeValue = evt.target.getAttribute('data-category');\n  //save the Name of Nav Category to LS\n  setToLocalStorage(categoryName, attributeValue);\n\n  if (attributeValue === 'All categories') {\n    renderBestSellerBooks();\n  } else {\n    renderCategory(attributeValue);\n  }\n}\n","import { setToLocalStorage, getFromLocalStorage } from './localStorageAPI';\n\nimport { refsLS } from './keyConstsLS';\n\nexport function removeBookFromCart(bookId) {\n  //Get arr from Local Storage\n  let booksInCart = getFromLocalStorage(refsLS.booksInCart);\n\n  if (booksInCart === null) {\n    return;\n  }\n  //Filtering and checking the unique books\n  const newBook = booksInCart.filter(book => book._id !== bookId);\n\n  //Update data in Local Storage\n  setToLocalStorage(refsLS.booksInCart, newBook);\n  console.log(`The book with id ${bookId} was remove from cart`);\n}\n","import { setToLocalStorage, getFromLocalStorage } from './localStorageAPI';\nimport { refsLS } from './keyConstsLS';\nimport { toastSuccess } from './components/toast';\n\nexport function addBookToCart(book) {\n  // get array from Local Storage\n  let booksInCart = getFromLocalStorage(refsLS.booksInCart);\n  //if local Storage doesn`t have arraay, create new arr with obj \"book\"\n  if (booksInCart === null) {\n    booksInCart = [book];\n  } else {\n    //We should check if book exists in booksInCart\n    const isBookInCart = booksInCart.some(item => item._id === book._id);\n    if (isBookInCart) {\n      //We can add library iziToast\n      console.log('This book already exists in your Cart!');\n      return;\n    } else {\n      //Add book to arr\n      booksInCart.push(book);\n    }\n  }\n  //Save update arr in Local Storage\n  setToLocalStorage(refsLS.booksInCart, booksInCart);\n  toastSuccess('The book was successfully written to Cart!');\n}\n","import { getFromLocalStorage } from '../localStorageAPI';\nimport { removeBookFromCart } from '../removeBookFromCart';\nimport { addBookToCart } from '../addBookToCart';\nimport { refsLS } from '../keyConstsLS';\nimport { refs } from '../refs';\nimport {\n  ADD,\n  REMOVE,\n  HIDDEN,\n  TEXT_MODAL_BUTTON_ADD,\n  TEXT_MODAL_BUTTON_REMOVE,\n} from '../commonConst';\n\nexport function onModalButton(e) {\n  const { type, id } = e.target.dataset;\n  if (type === ADD) {\n    addBookToCart(getFromLocalStorage(refsLS.categoryOpenInModal));\n    e.target.setAttribute('data-type', REMOVE);\n    e.target.textContent = TEXT_MODAL_BUTTON_REMOVE;\n    refs.modalCongratulation.classList.remove(HIDDEN);\n  } else {\n    removeBookFromCart(id);\n    e.target.setAttribute('data-type', ADD);\n    e.target.textContent = TEXT_MODAL_BUTTON_ADD;\n    refs.modalCongratulation.classList.add(HIDDEN);\n  }\n}\n","import { refs } from '../refs';\nimport { IS_OPEN } from '../commonConst';\nexport function onCloseModal(e) {\n  if (e.target !== e.currentTarget) return;\n  document.body.style.overflow = '';\n  refs.modalWrapper.classList.remove(IS_OPEN);\n}\n","import { renderBestSellerBooks } from '../renders/renderBestSellers';\nimport { getFromLocalStorage } from '../localStorageAPI';\nimport { renderCategory } from '../renders/renderCategoryBooks';\nimport { refsLS } from '../keyConstsLS';\nconst { categoryName } = refsLS;\nimport { refs } from '../refs';\nconst { btnAllCategories } = refs;\n\nexport function onLoadAllBestSelBooks() {\n  const getCategoryName = getFromLocalStorage(categoryName);\n  if (getCategoryName === null || getCategoryName === 'All categories') {\n    btnAllCategories.classList.add('active');\n\n    renderBestSellerBooks();\n  } else {\n    renderCategory(getCategoryName);\n  }\n}\n","import './js/renders/renderNavCategoriesList';\nimport { handlerGalleryNav } from './js/handlerGalleryNav';\nimport { onModalButton } from './js/events/onModalButton';\nimport { onCloseModal } from './js/events/onCloseModal';\nimport { refs } from './js/refs';\nimport { onLoadAllBestSelBooks } from './js/events/onLoadAllBestSellers';\n\nconst { ulCategoryContainer, modalBtn, modalClose, modalWrapper } = refs;\n\ndocument.addEventListener('DOMContentLoaded', onLoadAllBestSelBooks);\n\nulCategoryContainer.addEventListener('click', handlerGalleryNav);\nmodalBtn.addEventListener('click', onModalButton);\nmodalClose.addEventListener('click', onCloseModal);\nmodalWrapper.addEventListener('click', onCloseModal);\n\n"],"names":["scrollUpButton","toastOptions","toastError","message","iziToast","toastSuccess","BASE_URL","TIMEOUT","instance","axios","handleAxiosError","error","response","getCategoryList","res","getTopBooks","getSelectedCategory","category","getById","bookId","refs","categoryName","refsLS","markupNavCatList","list_name","getFromLocalStorage","ulCategoryContainer","scrollHighlightElem","getCategoryName","highlightedElement","renderNavCategoryList","categoryContainer","truncateTextByWord","text","words","truncatedText","currentLength","word","wordLength","markupBookCard","book","id","image","title","author","markupTitle","splitTitle","template","isBookInCart","books","ADD","REMOVE","IS_OPEN","HIDDEN","TEXT_MODAL_BUTTON_ADD","TEXT_MODAL_BUTTON_REMOVE","modalWrapper","modalImg","modalTitle","modalDescription","modalText","modalLinks","modalBtn","modalCongratulation","showModal","data","setToLocalStorage","_id","book_image","description","buy_links","isInCart","markupBuyLinks","onCardClick","event","renderLoader","element","renderCategory","titleElement","ul","booksMarkup","removeBntNavStyles","btn","scrollGallery","onSeeMore","btnCategoryTitle","markupBestSellersBooks","categoryItem","categoryTitle","categoryList","categoryDiv","categoryButton","renderBestSellerBooks","bestsellers","bestsellersArr","bestsellersList","handlerGalleryNav","evt","attributeValue","removeBookFromCart","booksInCart","newBook","addBookToCart","item","onModalButton","e","type","onCloseModal","btnAllCategories","onLoadAllBestSelBooks","modalClose"],"mappings":"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"}